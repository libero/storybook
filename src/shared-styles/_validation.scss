$throw-errors: true !default;

@function error($message, $throw-errors: $throw-errors) {
  @if $throw-errors {
    @error $message;
  }
  @return $message;
}

@mixin error($message) {
  _error: error($message);
}

@mixin expect-at-most($value, $maxLength, $message: "Expected at most #{$maxLength} values") {
  @if length($value) > $maxLength {
    @include error($message);
  } @else {
    @content;
  }

}

@mixin expect-single-value($value, $message: "Expected a single value") {
  @if length($value) == 0 {
    @include error($message);
  } @else {
    @include expect-at-most($value, 1, $message) {
      @content;
    }
  }

}
